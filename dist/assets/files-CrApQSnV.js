const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/choose-Dzef52W6.js","assets/index-DZhRjREB.js","assets/index-CaBDnlDD.css","assets/choose-MFbN0BvG.css","assets/feedback-DEcw2FWR.js","assets/feedback-CS_4vd_T.css"])))=>i.map(i=>d[i]);
import{c as w,j as l,r as x,R as O,_ as D,H as R,L as $}from"./index-DZhRjREB.js";import{S as z}from"./switchtheme-_wR1s-OG.js";import{y as q,L as H}from"./index--A5D0jMP.js";import{c as M}from"./index-CdPEFWn9.js";import{F as U}from"./footer-DhrjhEEq.js";import"./clsx-B-dksMZM.js";function P(){const t=w.c(2);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx("h3",{children:l.jsx("a",{href:"/files",children:"File Share"})}),t[0]=e):e=t[0];let s;return t[1]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsxs("header",{children:[e,l.jsx("div",{className:"wrapper",children:l.jsx(z,{})})]}),t[1]=s):s=t[1],s}const A="/assets/fileupload-OrM6AcDC.png",B={closeOnClick:!0,autoClose:3e3,pauseOnFocusLoss:!1,pauseOnHover:!1,draggable:!0},S=(t,e,s)=>{q[e](t,{...B,theme:s})},X=x.memo(J);function J({fileref:t,uploading:e,setFile:s,less:o,setper:n,setuploading:i,setoutput:c}){const r=a=>{if(a.target.files.length!==0)if(a.target.files[0].size/1e3>25e4){S("File Size Exceeded","error",localStorage.getItem("theme")||"dark");return}else s(a.target.files[0]),n(0),i(!1),c(null)};return l.jsxs("div",{className:"img"+(o?" less":""),onClick:()=>t.current.click(),children:[l.jsx("img",{src:A,alt:"File upload image"}),l.jsx("p",{children:"Click Here To Upload A File"}),l.jsx("p",{children:"Max File Size: 250MB"}),l.jsx("input",{ref:t,onClick:a=>{e&&a.preventDefault()},onChange:r,type:"file",name:"uploadedfile"})]})}function T(t){const e=w.c(16),{file:s,per:o}=t;let n,i;if(s){if(s.name.length>16){const p=s.name.length;n=s.name.slice(0,10)+"....."+s.name.slice(p-5,p)}else n=s.name;/^[0-9]{1,3}.[0-9]{2} MB$/.test(s.size)?i=s.size:i=parseFloat(s.size/1e6).toFixed(2).toString()+" MB"}let c;e[0]!==s||e[1]!==n||e[2]!==i?(c=s&&l.jsxs("div",{className:"info",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"File:"})," ",n]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Size:"})," ",i]})]}),e[0]=s,e[1]=n,e[2]=i,e[3]=c):c=e[3];let r;e[4]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx("p",{children:"0"}),e[4]=r):r=e[4];let a;e[5]!==o?(a=l.jsx("p",{children:o}),e[5]=o,e[6]=a):a=e[6];let d;e[7]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx("p",{children:"100"}),e[7]=d):d=e[7];let m;e[8]!==a?(m=l.jsxs("div",{className:"percentage",children:[r,a,d]}),e[8]=a,e[9]=m):m=e[9];let u;e[10]!==o?(u=l.jsx("div",{className:"progressouter",children:l.jsx("div",{className:"inner",style:{width:o}})}),e[10]=o,e[11]=u):u=e[11];let h;return e[12]!==c||e[13]!==m||e[14]!==u?(h=l.jsxs("div",{className:"status",children:[c,m,u]}),e[12]=c,e[13]=m,e[14]=u,e[15]=h):h=e[15],h}const V=(t,e)=>{t.target.classList.remove("red"),t.target.classList.remove("green"),e(!1);let s=t.target.value;s.length>4&&(t.target.value=s.slice(0,4))},_=(t,e,s)=>{let o=t.current.querySelector("#ccode"),n=/^[0-9]{4}$/,i=o.value;if(!n.test(i)){S("Invalid Code","error",localStorage.getItem("theme")||"dark"),o.classList.add("red");return}fetch("/api/files/cverify",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-For":s.current},body:JSON.stringify({ccode:i})}).then(c=>c.json()).then(c=>{e(c.status),c.status===!1?(S(c.message,"warn",localStorage.getItem("theme")||"dark"),o.classList.add("red"),o.classList.remove("green")):(S(c.message,"success",localStorage.getItem("theme")||"dark"),o.classList.remove("red"),o.classList.add("green"))})},G=(t,e)=>{let s=e.current,o=s.querySelector("svg");s.classList.contains("show")?(s.classList.remove("show"),o.classList.add("normal")):(s.classList.add("show"),o.classList.remove("normal"))},K=(t,e,s)=>{s.current===null?fetch("https://ip.ageerasaiteja.workers.dev").then(o=>o.json()).then(o=>{s.current=o.ip,_(t,e,s)}):_(t,e,s)};function W(t){const e=w.c(25),{setccodestatus:s,ccref:o,dodref:n,ccodestatus:i,ip:c}=t,r=x.useRef(null);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=k=>{G(k,r)},e[0]=a):a=e[0];let d;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsxs("div",{className:"optionstitle show",onClick:a,ref:r,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",fill:"var(--back)",children:l.jsx("path",{d:"m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z"})}),l.jsx("p",{children:"Options"})]}),e[1]=d):d=e[1];let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsxs("div",{className:"chead",children:[l.jsx("input",{type:"checkbox",id:"ccodeo"}),l.jsx("label",{htmlFor:"ccodeo",children:"Click To Set Custom Code Of 4 Digits"})]}),e[2]=m):m=e[2];let u;e[3]!==s?(u=l.jsx("input",{onInput:k=>{V(k,s)},type:"number",id:"ccode",placeholder:"Enter Custom Code"}),e[3]=s,e[4]=u):u=e[4];let h;e[5]!==o||e[6]!==c||e[7]!==s?(h=K.bind(null,o,s,c),e[5]=o,e[6]=c,e[7]=s,e[8]=h):h=e[8];let f;e[9]!==i||e[10]!==h?(f=l.jsx("button",{onClick:h,disabled:i,children:"Verify"}),e[9]=i,e[10]=h,e[11]=f):f=e[11];let p;e[12]!==u||e[13]!==f?(p=l.jsxs("div",{className:"cbody",children:[u,f]}),e[12]=u,e[13]=f,e[14]=p):p=e[14];let g;e[15]!==o||e[16]!==p?(g=l.jsxs("div",{className:"ccode",ref:o,children:[m,p]}),e[15]=o,e[16]=p,e[17]=g):g=e[17];let j,b;e[18]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsx("input",{type:"checkbox",id:"dod"}),j=l.jsx("label",{htmlFor:"dod",children:"Check To Download Only Once"}),e[18]=j,e[19]=b):(j=e[18],b=e[19]);let v;e[20]!==n?(v=l.jsxs("div",{className:"dod",ref:n,children:[b,j]}),e[20]=n,e[21]=v):v=e[21];let y;return e[22]!==v||e[23]!==g?(y=l.jsxs("div",{className:"options",children:[d,g,v]}),e[22]=v,e[23]=g,e[24]=y):y=e[24],y}function Y(t){const e=w.c(2),{submit:s}=t;let o;return e[0]!==s?(o=l.jsx("div",{className:"submit",children:l.jsx("button",{onClick:s,children:"Upload"})}),e[0]=s,e[1]=o):o=e[1],o}function Z(t){const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}const Q=(t,e)=>{let s=t.target.innerHTML.slice(5,9),o=s==="Code"?e.id:e.link;navigator.clipboard?navigator.clipboard.writeText(o):Z(o),S(`${s} Copied To Clipboard`,"success",localStorage.getItem("theme")||"dark")};function ee(t){const e=w.c(10),{data:s}=t;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx("p",{children:"File Has Been Uploaded Successfully!!"}),e[0]=o):o=e[0];let n;e[1]!==s.id?(n=l.jsxs("p",{className:"showcode",children:["Your Code is ",l.jsx("strong",{children:s.id})]}),e[1]=s.id,e[2]=n):n=e[2];let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx("p",{children:"Code Expires In 5 Hours"}),e[3]=i):i=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=["Code","Link"],e[4]=c):c=e[4];let r;e[5]!==s?(r=l.jsx("div",{className:"buttons",children:c.map(d=>l.jsxs("button",{onClick:m=>{Q(m,s)},children:["Copy ",d]},d))}),e[5]=s,e[6]=r):r=e[6];let a;return e[7]!==n||e[8]!==r?(a=l.jsxs("div",{className:"output",children:[o,n,i,r]}),e[7]=n,e[8]=r,e[9]=a):a=e[9],a}const te=(t,e,s,o,n,i,c)=>{S("File Uploaded Succesfully!!","success",localStorage.getItem("theme")||"dark"),e.value="",e.classList.remove("green"),e.classList.remove("red"),s.checked=!1,o.checked=!1,n(!1);let r=window.location.origin+"/api/files/download/"+t.str,a=t.id.toString();for(;a.length!=4;)a="0"+a;i({id:a,link:r}),c(!1)},se=(t,e,s,o,n,i,c,r,a)=>{let d=t.current.querySelector("#ccode"),m=t.current.querySelector("#ccodeo"),u=e.current.querySelector("#dod"),h=parseFloat(s.size/1e6).toFixed(2).toString()+" MB";if(s===null){S("No File Selected","error",localStorage.getItem("theme")||"dark");return}if(m.checked&&!a){S("Custom Code Not Verified !!","error",localStorage.getItem("theme")||"dark"),d.focus(),d.classList.add("red");return}let f=new FormData;f.append("file",s),f.append("customstatus",m.checked),f.append("deleteondownload",u.checked),f.append("size",h),m.checked&&f.append("customid",d.value);let p=new XMLHttpRequest;p.open("POST","/api/files/upload"),p.setRequestHeader("X-Forwarded-For",o.current),p.upload.addEventListener("progress",g=>{let j=parseInt(g.loaded/g.total*100);n(`${j}%`)}),p.send(f),i(!0),p.onload=()=>{if(p.getResponseHeader("Content-Type").includes("application/json")){let j=JSON.parse(p.response);j.status?te(j,d,m,u,c,r,i):S(j.message,"error",localStorage.getItem("theme")||"dark")}else S("Please Try Again!!","error",localStorage.getItem("theme")||"dark")}},le=se;function L(t){const e=w.c(19),{choose:s,ip:o}=t,n=x.useRef(null),i=x.useRef(null),c=x.useRef(null),[r,a]=x.useState(null),[d,m]=x.useState(!1),[u,h]=x.useState("0%"),[f,p]=x.useState(!1),[g,j]=x.useState(null);let b;e[0]!==d||e[1]!==r||e[2]!==o?(b=()=>{le(i,c,r,o,h,p,m,j,d)},e[0]=d,e[1]=r,e[2]=o,e[3]=b):b=e[3];const v=b,y="upload"+(s==="Upload"?"":" disnone"),k=r!==null;let F;e[4]!==k||e[5]!==f?(F=l.jsx(X,{fileref:n,setFile:a,less:k,setper:h,uploading:f,setuploading:p,setoutput:j}),e[4]=k,e[5]=f,e[6]=F):F=e[6];let C;e[7]!==d||e[8]!==r||e[9]!==o||e[10]!==g||e[11]!==v||e[12]!==u||e[13]!==f?(C=r===null?r:l.jsxs("div",{className:"file",children:[l.jsx(T,{file:r,per:u}),f||g!==null?null:l.jsx(W,{setccodestatus:m,ccref:i,dodref:c,ccodestatus:d,ip:o}),f||g!==null?null:l.jsx(Y,{submit:v}),g===null?g:l.jsx(ee,{data:g})]}),e[7]=d,e[8]=r,e[9]=o,e[10]=g,e[11]=v,e[12]=u,e[13]=f,e[14]=C):C=e[14];let N;return e[15]!==y||e[16]!==F||e[17]!==C?(N=l.jsxs("div",{className:y,children:[F,C]}),e[15]=y,e[16]=F,e[17]=C,e[18]=N):N=e[18],N}const oe=O.memo(({submit:t,buttonref:e,inputref:s,file:o})=>{const n=r=>{if(o){r.preventDefault();return}let a=r.clipboardData.getData("text");/^[0-9]{4}$/.test(a)?s.current.forEach((m,u)=>{m.value=a[u-1],u<=3&&(m.disabled=!0,s.current[u+1].disabled=!1,s.current[u+1].focus())}):(S("Pasting Invalid Code","warn",localStorage.getItem("theme")||"dark"),r.preventDefault())},i=r=>{if(o){r.target.value="",r.target.disabled=!0,S("File Is Being Downloaded!","warn",localStorage.getItem("theme")||"dark"),r.preventDefault();return}e.current.disabled=!0;let a=r.target.value.trim(),d=a.length;if(d==0)return;d>1&&(r.target.value=a.slice(d-1,d));let m=r.target.nextSibling;m?(r.target.disabled=!0,m.disabled=!1,m.focus()):e.current.removeAttribute("disabled")},c=r=>{if(o){r.target.value="",r.target.disabled=!0,S("File Is Being Downloaded!","warn",localStorage.getItem("theme")||"dark"),r.preventDefault();return}if(r.key=="Backspace"){if(e.current.disabled=!0,r.target.value){r.target.value="";return}let a=r.target.previousSibling;a&&(r.target.disabled=!0,a.disabled=!1,a.focus())}else r.key=="Enter"&&e.current.disabled==!1&&t()};return l.jsx("div",{className:"dinput",children:[1,2,3,4].map(r=>l.jsx("input",{type:"number",ref:a=>s.current[r]=a,name:`i${r}`,onInput:i,onKeyDown:c,disabled:r>1||o!=!1,onPaste:n},r))})}),I=(t,e,s,o,n)=>{let i="";if(t.current.forEach(d=>{i+=d.value}),!/^[0-9]{4}$/.test(i)){S("Invalid Code!","warn",localStorage.getItem("theme")||"dark");return}let r=JSON.stringify({id:i}),a=M.AES.encrypt(r,"c7NAugAqajNELIyl8DwWrujnb03PAzrb").toString();fetch("/api/files/download",{method:"POST",headers:{"Content-Type":"application/json","X-Forwarded-For":n.current},body:JSON.stringify({token:a})}).then(d=>d.json()).then(d=>{if(d.status){o(d),t.current.forEach(h=>{h.disabled=!0}),e.current.disabled=!0;let m=d.redirect;m=window.location.origin+"/api"+m;let u=new XMLHttpRequest;u.open("GET",m),u.responseType="blob",u.setRequestHeader("X-Forwarded-For",n.current),u.send(),u.onprogress=h=>{let f=parseInt(h.loaded/h.total*100).toString();s(`${f}%`)},u.onload=()=>{if(setTimeout(()=>{s("0%"),o(!1),t.current[1].disabled=!1,t.current[1].focus(),e.current.disabled=!1,localStorage.getItem("filesfeedback")===null&&document.querySelector(".mainfeedback").classList.remove("disnone")},3e3),u.getResponseHeader("Content-Type").includes("application/json")){S("Some Error Occured!!","error",localStorage.getItem("theme")||"dark");return}let f=u.response,p=URL.createObjectURL(f),g=document.createElement("a");g.href=p,g.download=d.name,g.click(),S("File Downloaded Successfully","success",localStorage.getItem("theme")||"dark"),t.current.forEach(j=>{j&&(j.value="")})}}else S(d.message,"error",localStorage.getItem("theme")||"dark")})},re=(t,e,s,o,n)=>{n.current===null?fetch("https://ip.ageerasaiteja.workers.dev").then(i=>i.json()).then(i=>{n.current=i.ip,I(t,e,s,o,n)}):I(t,e,s,o,n)};function E({choose:t,ip:e}){const s=x.useRef(null),o=x.useRef([]),[n,i]=x.useState("0%"),[c,r]=x.useState(!1),a=x.useCallback(()=>re(o,s,i,r,e),[]);return x.useEffect(()=>{s.current.addEventListener("click",a),o.current[1].focus()},[]),l.jsxs("div",{className:"download"+(t==="Download"?"":" disnone"),children:[l.jsx("h3",{children:"Download"}),l.jsx("p",{className:"desc",children:"Enter Code To Download File"}),l.jsx(oe,{submit:a,buttonref:s,inputref:o,file:c}),l.jsx("div",{className:"submit",children:l.jsx("button",{disabled:!0,ref:s,children:"Download"})}),c?l.jsx(T,{file:c,per:n}):null]})}function ae(t){const e=w.c(5),{showchoose:s,choose:o}=t,n=x.useRef(null);let i,c;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{fetch("https://ip.ageerasaiteja.workers.dev").then(ne).then(a=>{n.current=a.ip})},c=[],e[0]=i,e[1]=c):(i=e[0],c=e[1]),x.useEffect(i,c);let r;return e[2]!==o||e[3]!==s?(r=l.jsxs("div",{className:"files",children:[s==!0?l.jsx(E,{choose:o,ip:n}):l.jsx(E,{choose:"Download",ip:n}),s==!0?l.jsx(L,{choose:o,ip:n}):l.jsx(L,{choose:"Upload",ip:n})]}),e[2]=o,e[3]=s,e[4]=r):r=e[4],r}function ne(t){return t.json()}const ce=x.lazy(()=>D(()=>import("./choose-Dzef52W6.js"),__vite__mapDeps([0,1,2,3]))),ie=x.lazy(()=>D(()=>import("./feedback-DEcw2FWR.js"),__vite__mapDeps([4,1,2,5])));function xe(){const t=w.c(19);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=window.matchMedia("(max-width: 749px)"),t[0]=e):e=t[0];const[s,o]=x.useState(e.matches),[n,i]=x.useState("Download");let c,r;t[1]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{window.addEventListener("resize",()=>{o(window.matchMedia("(max-width: 749px)").matches)}),new URLSearchParams(window.location.search).get("error")==="File Not Found"&&setTimeout(de,500)},r=[],t[1]=c,t[2]=r):(c=t[1],r=t[2]),x.useEffect(c,r);let a;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsxs(R,{children:[l.jsx("title",{children:"File Share"}),l.jsx("link",{rel:"icon",href:"/fileslogo.svg"}),l.jsx("meta",{name:"title",content:"File Share"}),l.jsx("meta",{property:"og:title",content:"File Share"}),l.jsx("meta",{name:"description",content:"Upload and share files easily with a unique code system. Files are stored securely and auto-delete after 2 hours. Try now!"}),l.jsx("meta",{property:"og:description",content:"Upload and share files easily with a unique code system. Files are stored securely and auto-delete after 2 hours. Try now!"}),l.jsx("meta",{name:"keywords",content:"file share, file sharing, share files, file sharing website, file share website"})]}),t[3]=a):a=t[3];let d;t[4]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx($,{}),t[4]=d):d=t[4];let m;t[5]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(P,{}),t[5]=m):m=t[5];let u;t[6]!==s?(u=s?l.jsx(ce,{setchoose:i}):null,t[6]=s,t[7]=u):u=t[7];let h;t[8]!==n||t[9]!==s?(h=l.jsx(ae,{showchoose:s,choose:n}),t[8]=n,t[9]=s,t[10]=h):h=t[10];let f;t[11]!==u||t[12]!==h?(f=l.jsx("div",{className:"fileshare",children:l.jsxs("div",{className:"main",children:[m,u,h]})}),t[11]=u,t[12]=h,t[13]=f):f=t[13];let p,g,j;t[14]===Symbol.for("react.memo_cache_sentinel")?(j=localStorage.getItem("filesfeedback")===null?l.jsx(ie,{application:"files"}):null,p=l.jsx(H,{}),g=l.jsx(U,{}),t[14]=p,t[15]=g,t[16]=j):(p=t[14],g=t[15],j=t[16]);let b;return t[17]!==f?(b=l.jsxs("div",{className:"filesapp",children:[a,l.jsxs(x.Suspense,{fallback:d,children:[f,j,p,g]})]}),t[17]=f,t[18]=b):b=t[18],b}function de(){return S("File Not Found!","error",localStorage.getItem("theme")||"dark")}export{xe as default};
